<html>
<head>
  <title>2 -- 字符串</title>
  <basefont face="Consolas" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600363 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: Consolas;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1401"/>
<h1>2 -- 字符串</h1>

<div>
<span><div>先聊聊模板字符串</div><div>ES6 模板字符串解决了 ES5 在字符串功能上的痛点.</div><div><br/></div><div>第一个用途, 基本的字符串格式化. 将表达式嵌入字符串中进行拼接. 用 ${} 来界定.</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    //ES5</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    var name = 'lux'</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    console.log('hello' + name)</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    //es6</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    const name = 'lux'</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    console.log(`hello ${name}`) //hello lux</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div></div><div><br/></div><div>第二个用途, 在 ES5 时我们通过反斜杠 (\) 来做字符串或者字符串一行行拼接. ES6 反引号 (``) 直接搞定.</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    // ES5</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    var msg = &quot;Hi \</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    man!</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    &quot;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    // ES6</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    const template = `&lt;div&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        &lt;span&gt;hello world&lt;/span&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    &lt;/div&gt;`</span></div></div><div><br/></div><div>对于字符串 ES6+ 当然也提供了很多厉害也很有意思的方法</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    // 1.includes：判断是否包含然后直接返回布尔值</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    const str = 'hahay'</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    console.log(str.includes('y')) // true</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    // 2.repeat: 获取字符串重复n次</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    const str = 'he'</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    console.log(str.repeat(3)) // 'hehehe'</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    //如果你带入小数, Math.floor(num) 来处理</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    // s.repeat(3.1) 或者 s.repeat(3.9) 都当做成 s.repeat(3) 来处理</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    // 3. startsWith 和 endsWith 判断是否以 给定文本 开始或者结束</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    const str =  'hello world!'</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    console.log(str.startsWith('hello')) // true</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    console.log(str.endsWith('!')) // true</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    // 4. padStart 和 padEnd 填充字符串，应用场景：时分秒</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    setInterval(() =&gt; {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        const now = new Date()</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        const hours = now.getHours().toString()</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        const minutes = now.getMinutes().toString()</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        const seconds = now.getSeconds().toString()</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        console.log(`${hours.padStart(2, 0)}:${minutes.padStart(2, 0)}:${seconds.padStart(2, 0)}`)</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    }, 1000)</span></div></div><div><br/></div><div>关于模板字符串现在比较常见出现的面试题</div><div><br/></div><div>1.模拟一个模板字符串的实现</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    let address = '北京海淀区'</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    let name = 'lala'</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    let str = '${name}在${address}上班...'</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    // 模拟一个方法 myTemplate(str) 最终输出 'lala在北京海淀区上班...'</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    function myTemplate(str) {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        // try it</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    console.log(myTemplate(str)) // lala在北京海淀区上班...</span></div></div><div><br/></div><div>2.实现标签化模板 (自定义模板规则)</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    const name = 'cc'</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    const gender = 'male'</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    const hobby = 'basketball'</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    // 实现tag最终输出 '姓名：**cc**，性别：**male**，爱好：**basketball**'</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    function tag(strings) {</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        // do it</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    const str = tag`姓名：${name}，性别：${gender}，爱好：${hobby}`</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    console.log(str) // '姓名：**cc**，性别：**male**，爱好：**basketball**'</span></div></div><div><br/></div></span>
</div></body></html> 