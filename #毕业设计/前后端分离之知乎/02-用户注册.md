# 用户注册

我们使用 SendCloud 这个邮件发送服务，使用 Laravel-SendCloud 服务快速安装：

```composer
composer require naux/sendcloud
```

顺便安装一下 guzzlehttp。

下载后配置一下 config/app.php

1. 修改时区
2. 

我们修改 .env 文件修改配置

```
MAIL_DRIVER=sendcloud
```

然后我们打开我们登录相关的控制器文件夹，也就是 app/Http/Auth/Controller，这里面有几个 Laravel 原生就为我们准备好的控制器 Controller，比如说和登录相关的 RegisterController，这就是提供注册功能，这是用默认的 php artisan make:auth 命令来生成的。

一般来说这个命令可以满足我们的登录/注册功能，我们能在页面上看到登录/注册页面

如果我们尝试去注册一个用户，先要在编辑器中添加一些默认配置，首先要创建一个用户，然后发送一个邮件，我们在用户新建方法中添加：

```php
protected function create(array $data)
{
  return User::create([
    'name' => $data['name'],
    'email' => $data['email'],
    'avatar' => '/images/avatars/default.png',
    'confirmation_token' => str_random(40),
    'password' => bcrypt($data['password']),
  ]);
  
  $this->sendVerifyEmailTo($user);
  retrun $user;
}
```

这个 default.png 文件可以放在public 文件夹中 images 文件夹的 avatars。

然后我们试一下