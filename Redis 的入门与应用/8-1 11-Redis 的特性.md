## Redis 特性



- 多数据库
- Redis 事务



### 多数据库和事务

---

一个 redis 实例可以包含多个数据库，客户端可以指定连接 redis 实例中的指定数据库，最多 0-15 共 16 个数据库，默认为 0，也可以通过 select 选择连接的数据库。

```
select 1
keys *
select 0
keys *
move myset 1// 将里面的某个 key 移到 1 号数据库
select 1

// multi、exec、discard 三个事务相关命令
// multi 相当于 start transaction
// exec 相当于 commit
// discard 相当于 rollback

```

redis 作为 nosql 数据库也提供了事务，事务中所有命令都将被串行化，顺序执行，执行期间 redis 不会再为其他客户端提供任何服务以保证事务执行的原子化。

和关系型数据库事务相比，某个命令执行失败，后续命令还会被执行，通过 multi  开启一个事务，该语句执行之后，之后执行的命令都被视为是事务里面的相关操作。通过 exec 提交，discard 回滚。

在事务开启之前，如果客户端和服务器之间出现通讯故障并导致网络断开，那么之后的语句都不会被服务器执行；如果中断发生在客户端执行事务之后，那么事务中所有命令都会被服务器执行。

![1541563565159](E:\笔记\Redis 的入门与应用\8-1 11-Redis 的特性.assets\1541563565159.png)





