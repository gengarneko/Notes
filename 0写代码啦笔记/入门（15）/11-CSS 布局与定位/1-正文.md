# 高度与文档流

[TOC]

我们接着之前的课程来制作我们的页面。



## 制作 banner

我们可以看到标题最上面的区域有一张背景图。

如果你不喜欢他的背景图，你可以到这个网站上 [壁纸天堂](https://alpha.wallhaven.cc/)https://alpha.wallhaven.cc/ 找到自己喜欢的壁纸。

我们对 `banner` 区域添加一张图片有两种方式：

#### 1、background 方式

```html
<div class="banner" style="background-image: url('./folder/image.jpg');"></div>
```

改完之后我们刷新页面，毫无反应。为什么呢？我们来给他加个 border 来调试一下：

```html
<div class="banner" style="background-image: url('./folder/image.jpg');border: 1px solid red;"></div>
```

我们看到这个 div 高度怎么是 0 呢？我们给它一个高度：

```html
<div class="banner" style="background-image: url('./folder/image.jpg');border: 1px solid red;height: 180px;"></div>
```



> 这就引入了 CSS 第一个核心知识：一个元素的高度是由什么决定的？

> 一个 `div` 是由什么决定的呢？是由**内容**决定的。



## 高度（重要重要重要）

`div` 高度由其**内部文档流元素的高度总和**决定的。

这又引出了什么是文档流。



## 文档流

- #### 内联元素从左到右流动，块级元素从上到下流动。

- #### 块级元素的高度由其内部文档流元素的高度总和**决定**（不是相等）的。

- #### 内联元素的高度比较难确定，受字体建议行高影响





### 1、文档内元素的流动方向，从左往右：

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <title>noraml flow</title>
</head>
<style>
  body {
    background: grey;
  }
  span {
    border: 1px solid red;
  }
</style>
<body>
  <span>文字0</span>
  <span>文字1</span>
  <span>文字2</span>
  <span>文字3</span>
  <span>文字4</span>
  <span>文字5</span>
  <span>文字6</span>
  <span>文字7</span>
  <span>文字8</span>
  <span>文字9</span>
</body>
</html>
```

页面效果：

![](https://i.loli.net/2019/02/22/5c6fbfbca0b8a.png)

当我们缩小窗口，可以看到会自动换行：

![](https://i.loli.net/2019/02/22/5c6fc02cb3ff7.png)

它会换行继续流动。

### 2、块级元素怎么显示：

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <title>noraml flow</title>
</head>
<style>
  body {
    background: grey;
  }
  div {
    border: 1px solid green;
  }
</style>
<body>
  <div>盒子0</div>
  <div>盒子1</div>
  <div>盒子2</div>
  <div>盒子3</div>
  <div>盒子4</div>
  <div>盒子5</div>
  <div>盒子6</div>
  <div>盒子7</div>
  <div>盒子8</div>
  <div>盒子9</div>
</body>
</html>
```

页面效果：

![](https://i.loli.net/2019/02/22/5c6fc2eb13a45.png)

块级元素：每一个块都会占一行，从上往下依次往下流。

### 3、细节

![](https://i.loli.net/2019/02/22/5c6fc02cb3ff7.png)

- 流动的过程中被截断了，不会另起一行，就会这种状态。

- 如果一个很长的英文单词（记住是单词）窗口宽度不满足它的长度，它就会另起一行，而且只会在这一行。

  那么，文字也可以被打断，使用 `word-break: break-all`

- 文字之间的间隙是回车键



如果我们这么写，给 `div` 设定一个宽度：

```css
  div {
    border: 1px solid green;
    width: 100px;
  }
```

效果如图：

![](https://i.loli.net/2019/02/23/5c709ab554448.png)

- 我们看到明明一行有这么多空间，它偏偏不用，这就是文档流
- 那么怎么让块 1、块 2 在一起呢？我们给他们 `float: left` + `.clearfix`
- 或者说我们能使用 `display: inline-block;` ，这句变成行级元素了，不过这个属性很辣鸡，不要用。

### 3、内联元素的高度是怎么决定？

我们回忆起我们开始学汉语拼音的时候，写的四线格：

![](https://i.loli.net/2019/02/23/5c709fecd6dc9.png)

我们可以看到文字的垂直居中都是基于基线的，也就是 a 的下面的那条线。

如果我们要另起一行写东西，是不是需要一些空隙才好看？

![](https://i.loli.net/2019/02/23/5c70a092152b0.png)

这时候我们就会有一个建议的行高。

下面我们通过代码来体验一下：

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <title>noraml flow</title>
</head>
<style>
  body {
    background: grey;
    border: 1px solid black;
  }
  span {
    font-size: 100px;
    border: 1px solid red;
  }
</style>
<body>
  <span>你好</span>
  <span>Hugf</span>
  <span>Hugf</span>
  <span>Hugf</span>
  <span>Hugf</span>
  <span>Hugf</span>
</body>
</html>
```

页面效果：

![](https://i.loli.net/2019/02/23/5c70a1709d187.png)

![](https://i.loli.net/2019/02/23/5c70a1fe8d518.png)

我们能看到，行级元素的高度不止 100px，这就是因为**字体建议行高**这个东西，浏览器会自动读取字体的建议行高。

> 各个字体的建议字体是不一样的。所以同样的 100px 大小各个字体显示高度不一样。

我们可以将行高写死，使用 `px` 或者 `line-height: 1.2` 来确定。

总而言之，我们需要固定包裹字体的高度。

我们在处理内联元素的时候，尽量容器高于内联元素，并且通过 `line-height` 调整到与父容器一样的高度以使得字体垂直居中：

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <title>noraml flow</title>
</head>
<style>
  body {
    background: grey;
  }
  div {
    height: 30px;
    border: 1px solid black;
  }
  span {
    line-height: 30px;
    font-size: 12px;
    border: 1px solid red;
  }
</style>
<body>
  <div>
    <span>hello</span>
  </div>
</body>
</html>
```

效果：

![](https://i.loli.net/2019/02/23/5c70a4b0d70cf.png)

我们还可以使用 `padding` + `line-height` 来确定高度



> 深入理解：搜索 方应杭 css line height



## 继续做 banner

现在我们有了一张图，我们想把它显示出来，很多人第一反应是加上 `height`

> height 是前端页面 BUG 来源之一，不到万不得已不要使用 height

因为这个 banner 图片是在导航条下面的，所以它需要 **脱离文档流**

### 使用 `position: fixed` 脱离文档流

脱离文档流和不脱离有什么区别呢？

​	那就是影响父块的高度，父块的高度不会计算非文档流元素的高度。

```css
  .banner {
    position: fixed;
  }
```

然后我们来设定宽度，而很多人第一反应 `width: 100%;`

> 又是前端页面 BUG 来源之一，最好不要用 100% 来设定宽度。

一般来说套路是这样的：

​	使用 `box-sizing: border-box` + `width: 100%`

​	或者新建一个 `div` 然后加上 `padding`，这样也不会造成宽度溢出。



## 制作 banner 蒙板层

```html
  <div class="banner">
    <div class="mask"></div>
  </div>
  
  
  .banner {
    height: 515px;
    position: fixed;
    background-image: url(./a.jpg);
    background-position: center center;
    background-size: cover;
  }
  .banner .mask {
    height: 515px;
    background-color: rgba(0, 0, 0, 0.8);
  }
```

通过 `background-size: cover;` 自适应缩放；

通过 `background-position: center center;` 居中；

通过 `background-color: rgba(0, 0, 0, 0.8);` 透明；





## 制作 userCard

```css
  .userCared {
    border: 1px solid red;
    max-width: 940px;
    margin-left: auto;
    margin-right: auto;
  }
```



## 制作 Hello 标签

```css
  .userCared .welcome {
    background: #E6686A;
    color: white;
    display: inline-block;
    width: 70px;
    height: 29px;
    line-height: 29px;
    text-align: center;
  }
```

这样写死的做法，会出现 BUG，我们这样写：

```css
  .userCared .welcome {
    background: #E6686A;
    color: white;
    display: inline-block;
    padding: 4px 16px;
    line-height: 22px;
  }
```

这样不管我们写多少字，样式都会很美观。

> 而写死了宽高，只要需求一变，那就是 BUG。



## 如何画一个 三角形

```css
div {
    border: 10px solid red;
    width: 0px;
    height: 0px;
    border-top-color: transparent;
    border-left-color: transparent;
    border-right-color: transparent;
  }
```

这样我们就得到了一个等腰直角三角形。

我们继续调整：

```css
  div {
    border: 100px solid red;
    width: 0px;
    height: 0px;
    border-top-color: transparent;
    border-left-color: #E6686A;
    border-right-color: transparent;
    border-bottom-color: transparent;
    border-top-width: 0px;
  }
```

这样就得到了我们想要的三角形。

> 我们引入这个试验好的三角形的时候，在 `span` 里面不能使用 `div` 包裹，要用 `span`，不然会出问题。

```css
  div {
    border: 100px solid red;
    width: 0px;
    height: 0px;
    border-top-color: transparent;
    border-left-color: #E6686A;
    border-right-color: transparent;
    border-bottom-color: transparent;
    border-top-width: 0px;

    position: absolute;
  }
```

> 使用 `relative` + `absolute` 进行脱离文档流。





## iconfont.cn 的使用

就是阿里巴巴的矢量图网站，很简单，不想写笔记了~~~~

接入购物车下载文件然后引入就可以了。





## `inline-block` 需要与 `vertical-align: top` 配合