# 数据结构的使用

键值对应，哈希数据结构

多行显示，二维数组

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>初体验</title>
</head>
<body>
  <header></header>
  <main id="xxx">
  </main>
  <footer></footer>
</body>
<script>
  var keys = {
    0: ['q', 'w', 'e', 'r', 't', 'y', 'u', 'i', 'o', 'p'],
    1: ['a', 's', 'd', 'f', 'g', 'h', 'j', 'k', 'l'],
    2: ['z', 'x', 'c', 'v', 'b', 'n', 'm'],
    length: 3
  }
  var hash = {
    'q': 'qq.com',
    'w': 'weibo',
    'e': 'ele.me',
    'r': 'renren.com'
  }

  div1 = document.createElement('div')
  // echo 'hi' >> 1.txt
  xxx.appendChild(div1)
</script>
</html>
```

我们进行代码功能添加：

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>初体验</title>
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  <header></header>
  <main>
    <div class="wrapper" id="yeye"></div>
  </main>
  <footer></footer>
</body>
<script>
  var keys = {
    0: ['q', 'w', 'e', 'r', 't', 'y', 'u', 'i', 'o', 'p'],
    1: ['a', 's', 'd', 'f', 'g', 'h', 'j', 'k', 'l'],
    2: ['z', 'x', 'c', 'v', 'b', 'n', 'm'],
    length: 3
  }
  var hash = {
    'q': 'qq.com',
    'w': 'weibo',
    'e': 'ele.me',
    'r': 'renren.com'
  }
  // echo 'hi' >> 1.txt
  index = 0
  while(index < keys['length']) {
    erzi = document.createElement('div')
    yeye.appendChild(erzi)
    row = keys[index]
    console.log(row.length);
    index2 = 0
    while(index2 < row.length) {
      sunzi = document.createElement('kbd')
      sunzi.textContent = row[index2]
      erzi.appendChild(sunzi)
      index2 = index2 + 1
    }
    // x = 0
    // while(x < keys[index])
    // row = keys[index]
    index = index + 1
  }
</script>
</html>
```

一些样式：

```css
*{margin: 0;padding: 0;}
a{text-decoration: none;}
kbd{
  border: 1px solid red;
  width: 2em;
  height: 2em;
  display: inline-block;
  text-transform: uppercase;
}
.wrapper {
  display: inline-block;
}
.wrapper > div:nth-child(2) {
  margin-left: 1em;
}
.wrapper > div:nth-child(3) {
  margin-left: 2em;
}
```





## 添加监听功能

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>初体验</title>
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  <header></header>
  <main>
    <div class="wrapper" id="yeye"></div>
  </main>
  <footer></footer>
</body>
<script>
  var keys = {
    0: ['q', 'w', 'e', 'r', 't', 'y', 'u', 'i', 'o', 'p'],
    1: ['a', 's', 'd', 'f', 'g', 'h', 'j', 'k', 'l'],
    2: ['z', 'x', 'c', 'v', 'b', 'n', 'm'],
    length: 3
  }
  var hash = {
    'q': 'qq.com',
    'w': 'weibo.com',
    'e': 'ele.me',
    'r': 'renren.com'
  }
  // echo 'hi' >> 1.txt
  index = 0
  while(index < keys['length']) {
    erzi = document.createElement('div')
    yeye.appendChild(erzi)
    row = keys[index]
    console.log(row.length);
    index2 = 0
    while(index2 < row.length) {
      sunzi = document.createElement('kbd')
      sunzi.textContent = row[index2]
      erzi.appendChild(sunzi)
      index2 = index2 + 1
    }
    // x = 0
    // while(x < keys[index])
    // row = keys[index]
    index = index + 1
  }
  // 监听事件
  // 监听错的例子
  yeye.onkeypress = function(suibiandemingzi) {
    console.log('你输入了一个键')
  }
  // 监听对的例子
  document.onkeypress = function(suibiandemingzi) {
    // console.log('你输入了一个键')
    // console.log(suibiandemingzi)
    // console.log(suibiandemingzi['key'])
    // 拿到用户输入的键
    key = suibiandemingzi['key']
    website = hash[key]
    console.log(website)
    // 本窗口打开
    // location.href = 'http://' + website
    // 新窗口打开
    window.open('http://' + website, '_blank')
  }
</script>
</html>
```





## 修改 Hash

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>初体验</title>
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  <header></header>
  <main>
    <div class="wrapper" id="yeye"></div>
  </main>
  <footer></footer>
</body>
<script>
  var keys = {
    0: ['q', 'w', 'e', 'r', 't', 'y', 'u', 'i', 'o', 'p'],
    1: ['a', 's', 'd', 'f', 'g', 'h', 'j', 'k', 'l'],
    2: ['z', 'x', 'c', 'v', 'b', 'n', 'm'],
    length: 3
  }
  var hash = {
    'q': 'qq.com',
    'w': 'weibo.com',
    'e': 'ele.me',
    'r': 'renren.com'
  }

  index = 0
  while(index < keys['length']) {
    erzi = document.createElement('div')
    yeye.appendChild(erzi)
    row = keys[index]
    console.log(row.length);
    index2 = 0
    while(index2 < row.length) {
      sunzi = document.createElement('kbd')
      sunzi.textContent = row[index2]
      buttonx = document.createElement('button')
      buttonx.textContent = '编辑'
      buttonx.id = row[index2]
      buttonx.onclick = function(suibiandemingzi) {
        // console.log('我被延期了');
        // buttonx 只是一个容器，我们打印出的 buttonx 是变的，永远是最后一个元素
        // 查看被用户点击的按钮
        console.log(suibiandemingzi['target']['id'])
        key = suibiandemingzi['target']['id']
        site = prompt('给我一个网址')
        hash[key] = site
      }
      sunzi.appendChild(buttonx)
      erzi.appendChild(sunzi)
      index2 = index2 + 1
    }
    index = index + 1
  }

  // 监听事件
  // 监听错的例子
  yeye.onkeypress = function(suibiandemingzi) {
    console.log('你输入了一个键')
  }

  // 监听对的例子
  document.onkeypress = function(suibiandemingzi) {
    // 拿到用户输入的键
    key = suibiandemingzi['key']
    website = hash[key]
    console.log(website)

    window.open('http://' + website, '_blank')
  }
</script>
</html>
```





## 使用 localStorage 

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>初体验</title>
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  <header></header>
  <main>
    <div class="wrapper" id="yeye"></div>
  </main>
  <footer></footer>
</body>
<script>
  var keys = {
    0: ['q', 'w', 'e', 'r', 't', 'y', 'u', 'i', 'o', 'p'],
    1: ['a', 's', 'd', 'f', 'g', 'h', 'j', 'k', 'l'],
    2: ['z', 'x', 'c', 'v', 'b', 'n', 'm'],
    length: 3
  }
  var hash = {
    'q': 'qq.com',
    'w': 'weibo.com',
    'e': 'ele.me',
    'r': 'renren.com'
  }
  // 取出 localStorage 中的 zzz 对应的 hash
  var hashInLocalStorage = JSON.parse(localStorage.getItem('www') || null)
  hash = hashInLocalStorage
  console.log(hashInLocalStorage)

  index = 0
  while(index < keys['length']) {
    erzi = document.createElement('div')
    yeye.appendChild(erzi)
    row = keys[index]
    console.log(row.length);
    index2 = 0
    while(index2 < row.length) {
      sunzi = document.createElement('kbd')
      sunzi.textContent = row[index2]
      buttonx = document.createElement('button')
      buttonx.textContent = '编辑'
      buttonx.id = row[index2]
      buttonx.onclick = function(suibiandemingzi) {
        // console.log('我被延期了');
        // buttonx 只是一个容器，我们打印出的 buttonx 是变的，永远是最后一个元素
        // 查看被用户点击的按钮
        console.log(suibiandemingzi['target']['id'])
        key = suibiandemingzi['target']['id']
        site = prompt('给我一个网址')
        hash[key] = site // hash 变更
        localStorage.setItem('www', JSON.stringify(hash))
      }
      sunzi.appendChild(buttonx)
      erzi.appendChild(sunzi)
      index2 = index2 + 1
    }
    index = index + 1
  }

  // 监听事件
  // 监听错的例子
  yeye.onkeypress = function(suibiandemingzi) {
    console.log('你输入了一个键')
  }

  // 监听对的例子
  document.onkeypress = function(suibiandemingzi) {
    // 拿到用户输入的键
    key = suibiandemingzi['key']
    website = hash[key]
    console.log(website)

    window.open('http://' + website, '_blank')
  }
</script>
</html>
```

