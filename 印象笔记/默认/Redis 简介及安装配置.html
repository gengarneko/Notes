<html>
<head>
  <title>Redis 简介及安装配置</title>
  <basefont face="Consolas" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/600363 (zh-CN, DDL); Windows/6.1.1 (Win64);"/>
  <style>
    body, td {
      font-family: Consolas;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="2007"/>
<h1>Redis 简介及安装配置</h1>

<div>
<span><div><div><div><span style="color: rgb(121, 121, 121);">REmote Dictionary Server ( Redis ) 是一个 key-value存储系统.</span></div><div><span style="color: rgb(121, 121, 121);">Redis 是一个开源的使用 ANSI C 语言编写,遵守 BSD 协议,支持网络化,可基于内存亦可持久化的日志型, key-value 数据库,并提供多种语言 API</span></div><div><span style="color: rgb(121, 121, 121);">Redis 与其他 key-value 缓存产品相比有以下三个特点:</span></div><ul><li><div><span style="color: rgb(121, 121, 121);">Redis 支持数据的持久化,可以将内存中的数据保存到磁盘中,重启的时候就可以加载进行使用</span></div></li><li><div><span style="color: rgb(121, 121, 121);">Redis 不仅仅支持简单的 key-value 类型的数据,同时还提供 .list,set,zset,hash 等数据结构的存储</span></div></li><li><div><span style="color: rgb(121, 121, 121);">Redis 支持数据的备份, 即 master-slave 模式的数据备份</span></div></li></ul><div><br/></div><div><span style="color: rgb(121, 121, 121); font-weight: bold;">Redis 优势</span></div><ul><li><div><span style="color: rgb(121, 121, 121);">性能极高 - Redis 能读的速度是 110000 次/s,写的速度是 81000 次/s</span></div></li><li><div><span style="color: rgb(121, 121, 121);">丰富的数据类型 - Redis 支持二进制案例的 Strings,Lists,Hashes,Sets及 OrderedSets 数据类型操作</span></div></li><li><div><span style="color: rgb(121, 121, 121);">原子 - Redis的所有操作都是原子的,意思就是要么成功执行要么失败完全不执行.单个操作是原子的.多个操作也支持事务,及原子性,通过 MULTI 和 EXEC 指令抱起来</span></div></li><li><div><span style="color: rgb(121, 121, 121);">丰富的特性 - Redis 还支持 publish/subscribe,通知 key 过期等特性1</span></div></li></ul><div><br/></div><div><span style="color: rgb(121, 121, 121); font-weight: bold;">Redis 与其他 key-value 存储有什么不同?</span></div><ul><li><div>Redis  有着更为复杂的数据结构并且提供对它们的原子性操作,这是一个不同于其他数据库的进化路径. Redis 的数据类型都是基于基本数据类型的同时对程序员透明,无需进行额外抽象</div></li><li><div>Redis 运行在内存中但是可以持久化到磁盘,所以在对不同数据集进行高速读写时需要权衡内存,因为数据量不能大于硬件内存.在内存数据库方面的另一个优点是,相比在磁盘上 相同的复杂数据结构,在内存中操作起来更加简单,这样 Redis 可以做很多内部复杂性很强的事情.同时,在磁盘格式化方面他们是紧凑的以追加的方式产生的,因为他们并不需要进行随机访问</div></li></ul><div><br/></div></div><div><span style="font-weight: bold;">参数说明</span></div><div>redis.config 配置项说明如下:</div><ol><li><div>Redis 默认不是以守护进程的方式运行,可以通过该配置项修改,使用 yes 启动守护进程 <span style="font-size: 13px; color: rgb(255, 0, 0); font-weight: bold;">daemonize no</span></div></li><li><div>当 Redis 以守护进程方式运行时, Redis 默认会把 pid 写入 /var/ru/redis.pid 文件中,可以通过 pidfile 指定  <span style="border: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(255, 0, 0); font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">pidfile /var/run/redis.pid</span></div></li><li><div>指定 Redis 监听端口,默认端口为 6379, 作者在自己的一篇博文中解释了为什么用6379 作为默认端口,因为 6397 在手机按键上 MERZ 对应的号码,而 MERZ 取自意大利女歌手的名字  <span style="border: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(255, 0, 0); font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">port 6379</span></div></li><li><div>绑定的主机地址  <span style="border: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(255, 0, 0); font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">bind 127.0.0.1</span></div></li><li><div>当客户端闲置多长时间后关闭连接,如果指定为0,表示关闭该功能  <span style="border: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(255, 0, 0); font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">timeout 300</span></div></li><li><div>指定日志记录级别, Redis 总共支持四个级别: debug,verbose,notice,warning, 默认为 verbose  <span style="border: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(255, 0, 0); font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">loglevel verbose</span></div></li><li><div>日志记录方式,默认为标准输出,如果配置 Redis 为守护进程方式运行,而这里又配置为日志记录方式为标准输出,则日志将会发送给 /dev/null  <span style="border: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(255, 0, 0); font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">logfile stdout</span></div></li><li><div>设置数据库的数量,默认数据库为0,可以使用 SELECT &lt;dbid&gt; 命令指定连接上指定数据库  <span style="border: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(255, 0, 0); font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">databases 16</span></div></li><li><div>指定在多长时间内,有多少次更新操作,就将数据同步到数据文件,可以多个条件配合   <span style="color: rgb(255, 0, 0); font-size: 13px; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">save &lt;seconds&gt; &lt;changes&gt;  </span> <span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">Redis默认配置文件中提供了三个条件：900 1 ,300 10 ,60 10000   </span> <span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-variant-caps: normal; font-variant-ligatures: normal;">   分别表示15分钟,5分钟,1分钟 有多少个更改</span></div></li><li><div><span style="color: rgb(51, 51, 51);">指定存储至本地数据库时是否有压缩数据,默认是 yes, Redis采用 LZF 压缩,如果为了节省 CPU 时间,可以关闭该选项,但是会导致数据库文件变得巨大 </span> <span style="border: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(255, 0, 0); font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">rdbcompression yes</span></div></li><li><div>指定本地数据库文件名,默认值为 dump.rdb  <span style="border: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(255, 0, 0); font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">dbfilename dump.rdb</span></div></li><li><div>指定本地数据库存放目录  <span style="border: 0px; font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(255, 0, 0); font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">dir ./</span></div></li><li><div><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-variant-caps: normal; font-variant-ligatures: normal;">设置当本机为slav服务时,设置master服务的IP地址及端口,在Redis启动时,它会自动从master进行数据同步</span></div></li><li><div><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">当 master 服务设置了密码保护时, stav 服务连接 master 的密码</span></div></li></ol><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></div><div><br/></div></span>
</div></body></html> 