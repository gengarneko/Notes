redis 作为数据库使用



redis 计数器与数量控制



首先是缓存，但是 redis 计数器已经达到数据库层面了。



谈一谈 redis 和 memcache 的比较



演示 redis 日常操作



php 实现的源代码



源码的并发测试



为什么用 php：快速



## 课程介绍

- #### 认识 Redis 的本质：设计目标、应用场景

- #### 理解 Redis 的工作模式（关键环节），讲一讲它的优缺点

- #### 认识 Redis 计数器

- #### 如何使用 Redis 计数器实现并发场景下的数量控制



## Redis 是什么

- 缓存
- 数据库
- 消息代理



## Redis 和 Memcahce 对比

- memcache 是内存对象缓存系统，设计目标为通过缓解数据库的压力来加快 web 应用的响应速度。
- Redis 应用场景更丰富，memcache 仅适合作为缓存使用。（断电丢失）



## Redis 的工作模式

- 单进程，单进程，单进程（排队等待）
- 阻塞式（Redis 在处理完一个请求前，不会响应别的请求）

memcache 是多进程，非阻塞式的工作模式，完全相反。



## Redis 的优缺点

- 优点：无需处理并发问题，降低系统复杂度（Redis 本身系统复杂度很低，源代码简洁，代码量很低）
- 缺点：不适合缓存大尺寸对象（超过100KB），为什么？结合计算机工作原理。



## Redis 常用数据类型

- STRING 字符串。整数型字符串
- HASH 哈希。PHP 关联数组，Python 字典
- LIST 列表。Python 元组
- SET 集合。集合中的元素唯一
- SORTED SET 有序集合。元素有分值，用于排序

Redis 的数据类型如此丰富，如果仅仅当作缓存来用，确实是“杀鸡焉用牛刀”。，emcache 更合适。





## Redis 计数器



### 应用场景

---

- 频率控制：接口防刷，密码尝试次数限制。
- 数量统计：请求量统计。
- 数量控制：商品抢购，奖励额度控制。





























